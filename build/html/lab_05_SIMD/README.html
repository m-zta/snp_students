
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="metadata description" lang="en" name="description" xml:lang="en" />
<meta content="description des métadonnées" lang="fr" name="description" xml:lang="fr" />
<meta content="Sphinx, MyST" name="keywords" />
<meta content="en_US" property="og:locale" />

    <title>05 - Incremental computation of moments &#8212; MPC Labs  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="06 - Real-Time with SIMD" href="../lab_06_Real-Time_with_SIMD_Open_MP/README.html" />
    <link rel="prev" title="04 - OpenMP" href="../lab_04_OpenMP/README.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="incremental-computation-of-moments">
<h1>05 - Incremental computation of moments<a class="headerlink" href="#incremental-computation-of-moments" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<section id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this exercise we want to begin getting a working knowledge of NEON SIMD inmstructions. We do this using a simple data reduction example, an online-calculation of moments of a statistical distribution.</p>
<p>No points will be awarded for completion of this laboratory exercise.
You can do this exercise in groups.
One laboratory period (1.5 hrs.) is considered adequate for this exercise</p>
</section>
<hr class="docutils" />
<section id="learning-aims">
<h2>2. Learning Aims<a class="headerlink" href="#learning-aims" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>The format and usage of ARM-NEON intrinsic instructions</p></li>
<li><p>Online statistical calculations</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="task-1-compute-the-third-moment">
<h2>3. Task 1: Compute the Third Moment<a class="headerlink" href="#task-1-compute-the-third-moment" title="Permalink to this headline">¶</a></h2>
<p><strong>Recommended ET &amp; IT</strong></p>
<section id="moments">
<h3>Moments<a class="headerlink" href="#moments" title="Permalink to this headline">¶</a></h3>
<p>Central moments are widely used in descriptive statistics. Standard approaches for computing them require two passes over the data. In applications were were data is streamed incremental results are needed after each new value is observed.</p>
<p>The first moment (mean) is given by</p>
<p><img alt="First Moment of a Distribution" src="../_images/FirstMoment.PNG" /></p>
<p>The second moment (variance) of a distrubtion is given by</p>
<p><img alt="Second Moment of a Distribution" src="../_images/SecondMoment.PNG" /></p>
<p>The third moment (skew) is given by</p>
<p><img alt="Third Moment of a Distribution" src="../_images/ThirdMoment.PNG" /></p>
<p>The nth moment (kurtosis … ) of a distrubtion is given by</p>
<p><img alt="Fourth Moment of a Distribution" src="../_images/NthMoment.PNG" /></p>
</section>
<section id="task">
<h3>Task<a class="headerlink" href="#task" title="Permalink to this headline">¶</a></h3>
<p>The example generates samples with a given Gaussian distribution. For each sample the new moments are calculated normally (<code class="docutils literal notranslate"><span class="pre">compute_moments_neon</span></code>) and with SIMD (<code class="docutils literal notranslate"><span class="pre">compute_moments_neon</span></code>). The <code class="docutils literal notranslate"><span class="pre">compute_moments_neon</span></code> function is incomplete as the third moment is not yet implemented.</p>
<p>Examine the given source code and answer the following questions:</p>
<ol class="arabic simple">
<li><p>How many dataset are calculated in parallel when using SIMD?</p></li>
<li><p>Is the number of datasets given when using SIMD (check the ARM Neon reference)?</p></li>
<li><p>The example can be build using `make’</p></li>
<li><p>Currently only the first two moments are calculated</p></li>
<li><p>Compare the calculation of the first two moments to the implementation in <code class="docutils literal notranslate"><span class="pre">compute_moments</span></code> and identify the used intrinsics.</p></li>
<li><p>Write the calculation of the third moment in the <code class="docutils literal notranslate"><span class="pre">computes_moments_neon</span></code> function. You can use a <code class="docutils literal notranslate"><span class="pre">compute_moments</span></code> function as a blueprint. Don not forget to check if you have to add load and store instruction at the start or the end of the function.</p></li>
<li><p>Compare your results of the two implementations. Are there differences?</p></li>
<li><p>Is there any run-time improvement to be expected by using openMP?</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="evaluation">
<h2>4. Evaluation<a class="headerlink" href="#evaluation" title="Permalink to this headline">¶</a></h2>
<p>This laboratory is not evaluated Nevertheless I <strong>welcome</strong> in-depth discussions on the contents of the lab and your solutions <strong>during</strong> the implementation process.</p>
</section>
<hr class="docutils" />
<section id="references">
<h2>5. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://developer.arm.com/architectures/instruction-sets/simd-isas/neon/intrinsics">https://developer.arm.com/architectures/instruction-sets/simd-isas/neon/intrinsics</a></p>
</section>
<hr class="docutils" />
<section id="version">
<h2>6. Version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Version</p></th>
<th class="text-left head"><p>Date</p></th>
<th class="text-left head"><p>By</p></th>
<th class="text-left head"><p>Comments</p></th>
<th class="text-left head"><p>Class Level</p></th>
<th class="text-left head"><p>Module</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>V1.1</p></td>
<td class="text-left"><p>04.2022</p></td>
<td class="text-left"><p>donn</p></td>
<td class="text-left"><p>Added some sections</p></td>
<td class="text-left"><p>6S</p></td>
<td class="text-left"><p>MPC</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>V1.0</p></td>
<td class="text-left"><p>02.2021</p></td>
<td class="text-left"><p>donn</p></td>
<td class="text-left"><p>First version</p></td>
<td class="text-left"><p>6S</p></td>
<td class="text-left"><p>MPC</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">MPC Labs</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lab_01_Setup_Laboratory/README.html">01 - Setup Laboratory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lab_02_Process_Threads_Task_Decomposition/README.html">02 - Process, Threads, Task Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lab_03_Data_Decomposition/README.html">03 - Data Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lab_04_OpenMP/README.html">04 - OpenMP</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">05 - Incremental computation of moments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#learning-aims">2. Learning Aims</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task-1-compute-the-third-moment">3. Task 1: Compute the Third Moment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#moments">Moments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#task">Task</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#evaluation">4. Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">5. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version">6. Version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lab_06_Real-Time_with_SIMD_Open_MP/README.html">06 - Real-Time with SIMD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lab_07_cluster_computing/README.html">07a - Cluster Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix_u96.html">Ultra96-V2</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../lab_04_OpenMP/README.html" title="previous chapter">04 - OpenMP</a></li>
      <li>Next: <a href="../lab_06_Real-Time_with_SIMD_Open_MP/README.html" title="next chapter">06 - Real-Time with SIMD</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, stsh.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/lab_05_SIMD/README.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>